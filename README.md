**Table of Contents**

- [Changelog](#changelog)
- [What it does](#what-it-does)
- [How does it look?](#how-does-it-look)
- [How do I use it?](#how-do-i-use-it)
- [Contact](#contact)

## Changelog

 - 0.0.1 Release
 - 0.0.2 - 0.0.9 Readme edits
 - 0.1.0 Added the optional use of the file system as a cache
 - 0.1.1 Bugfix for default options if the init function was never called
 - 0.1.2 Readme edits
 - 0.1.3 Fixed a encoding bug in serving cached file system content
 - 0.1.4 Added a git repository to package.json :)
 - 0.1.5 File system cache will now create a folder in the os.tmpdir() location via the path module, The init function is now required to be executed, Forgot to throw a error in the memory cache code, Removed some unused variables
 - 0.1.6 Added the optional use of using redis as a cache and cleaned up the code a bit
 - 0.1.7 You dont have to have redis run to use file or memory cache
 - 0.1.8 Added a clearCache function
 - 0.1.9 Using sha256 for cache key generation instead of md5 (less collision chance)
 - 0.2.1 Instead of generating a hash from the html contents of the requested page (amount of bytes = yikes) the code now generates a hash from the requested filename and appends any locals that are passed on to swig
 
## What it does

Minifies and caches html output generated by swig in use with the express framework.
You have the option to choose file cache, memory cache or redis.
File cache will be located in os.tmpdir() in a folder named 'swig-minifier'


## How does it look?

```javascript
var swigMinifier = require('swig-minifier');
swigMinifier.init({cacheType:"file"});
app.engine('html', swigMinifier.engine);
```


##  How do I use it?

### 1. Start by installing the package:
    npm install swig-minifier

### 2. Put this in your nodejs server file:
```javascript
// Require the module.
var swigMinifier = require('swig-minifier');

// Define options to use for swig-minifier
var options = {cacheType:"memory"}; // Choose to cache to memory
var options = {cacheType:"file"}; // Choose to cache to file system
var options = {cacheType:"redis"}; // Choose to cache with redis

// swig-minifier clears the file cache when the init function is called
// to make swig-minifier not purge file cache on init call, pass this in the options object:
var options = {dontPurge:true};

// Important: Call the init function before using swigMinifier.engine
swigMinifier.init(options);

// Change your app.engine to set to render with swig-minifier
app.engine('html', swigMinifier.engine);
```
### 3. Your html code will now be automatically minified and cached via file or memory.

## Contact
You can contact me at specamps@gmail.com